# APIC-EM REST API Part 2 - Path Trace


## Objective

Completion Time: 20 minutes

* Learn about the Path Trace APIC-EM APIs
* Write custom scripts using Python


## Prerequisites
* If you are not familiar with APIC-EM APIs, start from Part I - The Basics
* This Lab is based on APIC-EM release 1.3 or later.
* For the API call in "DevNet APIC-EM always on sandbox," use the URL https://devnetapi.cisco.com/sandbox/apic_em. This URL is not for UI access.
* Python version 3.x is required to run sample scripts.


## Getting Started

If you are using Cisco-provided hardware at a Cisco event:

*  Lab sample code should be in the working directory: `C:\apicem-apis-with-python-sample-codes\path-trace-labs`
*  If not, you can create a working directory by typing `mkdir \apicem-apis-with-python-sample-codes\path-trace-labs\<UniqueName>`.<br><br>

If you are working from your own laptop, set up your system as follows:

*  Install Python 3 and Git on your computer. See **How To Set up Your Own Computer** at the top of this page.
*  Download and install Git from **[https://git-scm.com/downloads](https://git-scm.com/downloads)**
*  Download the lab files from GitHub :<br>

  ```
  `cd <your working directory>`
  ```


If you are in the DevNet Zone at a Cisco Live Event, open the Git command window. Either click the Git icon on the Task bar or type 'git cmd' in the run bar.  In the git command window, type the following command:

```
`git clone https://github.com/CiscoDevNet/apicem-apis-with-python-sample-codes`
```
After the git clone completes, you will have all of the Python files that the lab steps use.

*  To run the Python scripts outside of a Cisco event, you must set the **ip** variable to the IP address of the Cisco APIC-EM controller that you want the scripts to call. This variable is in the `apicem_config.py` file.<br>
For example:

 ```
 `ip = devnetapi.cisco.com/sandbox/apic_em`
 ```

## Step 1:  Executing Lab Examples

To execute the scripts, follow these steps:

1. Open a terminal window and change to the directory that holds the learning lab sample code.  Typically, your working directory is: `apicem-apis-with-python-sample-codes\path-trace`.
2. Invoke Python3 as appropriate for your OS:<br>

### Running the Python Scripts

  * On Mac OS or Linux, type: `python3 programName`
  * On Windows: type: `py â€“3 programName` or `python programName`

>  Alternatively, you can use the Python IDE, IDLE.<br> On a Mac OS, in a Terminal window, type: `idle3` to invoke IDLE for Python3.<br>On Windows, select IDLE from the Start menu. See the following figure.</b><br></font>

![Figure](/posts/files/apic-em-path-trace/idle.jpg)



###  Sample scripts
All Python sample scripts run in a flat directory. You use `apicem\_config.py` for configuring parameters for different environments. Those parameters are: APIC-EM IP (including port number), username, password, and the apic-em API version number. If you are using your own APIC-EM, you need to modify `apicem_config.py`. <br>
The script `apicem.py` contains common functions. Every script must import apicem.py.

---
In Part II, we will perform more structured programming by using functions.

---

#### Next Step
The following lab sessions create simple Python applications that interact with the Cisco APIC-EM controller using the NB REST API. Run the scripts in each lab session to see live responses from the APIC-EM server.

* **Lab 1: Host APIs**
* Lab 2: Path Trace - Flow Analysis APIs
